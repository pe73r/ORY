<section class="Section HomeCards relative" id="section-{{ section.id }}" data-section-id="{{ section.id }}" data-section-type="home-cards">
  <div class="container-small">
      <div class="grid">
        {% for block in section.blocks %}
         <div class="1/3--lap-and-up grid__cell" id="block-{{ block.id }}">
            <h3 class="u-h3 Gotham Card__title">{{ block.settings.title }}</h3>
            <div class="cardContainer inactive">
             <div class="card">
               <div class="side front">
                 <div class="img img1"></div>
               </div>
               <div class="side back">
                 <div class="info">
                    {{ block.settings.content }}
                 </div>
               </div>
             </div>
            </div>
            {% if block.settings.button_text != blank %}
              <div class="front__button">
                <a href="{{ block.settings.url }}" class="Button Button--primary Button--card">{{ block.settings.button_text }}</a>
              </div>
            {% endif %}
          </div>
       {% endfor %}
    </div>
  </div>
  {% if section.settings.background != blank %}
    <div class="HomeCards__background">
    </div>
  {% endif %}

</section>
<style>
   {% for block in section.blocks %}
      #block-{{ block.id }} .front .img1 {
        background-image: url({{ block.settings.image | img_url:'master' }});
      }
   {% endfor %}

   .HomeCards__background{
        background-image: url({{ section.settings.background | img_url:'master' }});
    }
</style>
<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous">
</script>
<script type="text/javascript">
  const cards = document.querySelectorAll(".card");

  function transition() {
  if (this.classList.contains("active")) {
   this.classList.remove("active");
  } else {
   this.classList.add("active");
  }
  }

  cards.forEach(card => card.addEventListener("click", transition));
</script>
{% schema %}
{
  "name": "Home cards",
  "class": "Section--spacingNormal",
  "max_blocks": 3,
  "settings": [
      {
        "type": "header",
        "content": "Background"
      },
     {
       "type": "image_picker",
       "id": "background",
       "label": "Background"
     }

  ],
  "blocks": [
    {
      "type": "card",
      "name": "Card",
      "settings": [
            {
              "type": "text",
              "id": "title",
              "label": "Title",
              "default": "Block title"
            },
            {
              "type": "header",
              "content": "front"
            },
           {
             "type": "image_picker",
             "id": "image",
             "label": "label"
           },
           {
             "type": "text",
             "id": "button_text",
             "label": "Button text",
             "default": "Découvrez l'huile de beauté"
           },
           {
             "type": "url",
             "id": "url",
             "label": "Link"
           },
           {
             "type": "header",
             "content": "back"
           },
           {
             "type": "richtext",
             "id": "content",
             "label": "Content",
             "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>"
           }
      ]
    }
  ],
  "presets": [
    {
      "category": "Image",
      "name": "Home cards",
      "settings": {}
    }
  ]
}
{% endschema %}
